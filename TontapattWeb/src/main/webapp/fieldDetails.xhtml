<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">


<h:head>
	<ui:insert name="head"></ui:insert>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<meta content="" name="description" />
	<meta content="" name="keywords" />

	<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
		crossorigin="anonymous" />
	<link
		href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
		rel="stylesheet" />
	<link href="resources/assets/css/subscription_style.css"
		rel="stylesheet" />
	<link href="resources/assets/css/style.css" rel="stylesheet" />
</h:head>


<h:body>

	<header id="header" class="fixed-top">
	<div class="container d-flex align-items-center">

		<h1 class="logo me-auto">
			<a class="titleT" href="index.html">Tontapatt</a>
		</h1>


		<nav id="navbar" class="navbar order-last order-lg-0">
		<ul>
			<li><a class="active" href="home.xhtml">Home</a></li>

		</ul>

		</nav>
		<!-- .navbar -->

		<button type="button" class="get-started-btn" data-toggle="modal"
			data-target="#amodal">Identification</button>

		<b:modal id="amodal">

			<div class="modal-body">
				<div class="form-title text-center">
					<h3>Connectez-vous</h3>
					<br />
				</div>
				<div class="d-flex flex-column text-center">
					<b:form id="loginForm">
						<div class="form-group">
							<b:inputText type="email" class="form-control" id="inpEmail"
								placeholder="Adresse mail..." value="#{mbUser.email}" />
						</div>
						<div class="form-group">
							<b:inputText type="password" class="form-control"
								id="inpPassword" placeholder="Mot de passe..."
								value="#{mbUser.password}" />
						</div>
						<b:message for="inpPassword" />
						<br />
						<b:commandButton class="btnLogin" value="Connexion"
							action="#{mbUser.connect()}" />

					</b:form>
				</div>
			</div>
			<div class="modal-footer d-flex justify-content-center">
				<div class="signup-section">

					<h4>
						Vous n'êtes pas inscrit? <a
							href="/TontapattWeb/subscription.xhtml" class="text-info">
							Inscrivez-vous</a>.
					</h4>
				</div>
			</div>

			<f:facet name="footer">
				<b:button class="closePop" value="Close" dismiss="modal" />
			</f:facet>
		</b:modal>


	</div>
	</header>
	<!-- End Header -->


	<div class="page-wrapper bg-blue p-t-100 p-b-100 font-robo">
		<div class="wrapper wrapper--w680">
			<div class="card card-1">
				<div class="card-heading"></div>
				<div class="card-body">
					<h2 class="title">Détails du terrain : #{mbField.field.name}</h2>
					<b:form id="fieldDetailsForm">



						<div>
							<label for="inpAdresse">Adresse :</label>
							<p>#{mbField.field.address}</p>
						</div>
						<div class="codeCity">
							<div class="row row-space">
								<div class="col-2">
									<div>
										<label for="inpZipCode">Code postal :</label>
										<p>#{mbField.field.zipCodeCity.zipCode}</p>
									</div>
								</div>
								<div class="col-2">
									<div>
										<label for="inpCity">Ville :</label><br />
										<p>#{mbField.field.zipCodeCity.name}</p>
									</div>
								</div>
							</div>
						</div>
						<div>
							<label for="inpDescription">Description :</label>
							<p>#{mbField.field.description}</p>
						</div>
						<div>
							<br /> <label for="inpFieldArea">Surface :</label>
							<p>#{mbField.field.area}</p>
						</div>
						<div>
							<div class="rs-select2 js-select-simple select--no-search">
								<br /> <label for="inpGrassHeight">Hauteur de l'herbe:</label><br />
								<p>#{mbField.field.grassHeight.height}</p>
							</div>
						</div>
						<div>
							<div class="rs-select2 js-select-simple select--no-search">
								<br /> <label for="inpFenceHeight">Hauteur de clôture:</label><br />
								<p>#{mbField.field.fenceHeight.height}</p>
							</div>
						</div>

						<div>
							<div class="rs-select2 js-select-simple select--no-search">
								<br /> <label for="inpFlatnessPercentage">Pourcentage
									de terrain plat:</label><br />
								<p>#{mbField.field.flatnessPercentage.percentage} %</p>
							</div>

							<div>
								<div class="rs-select2 js-select-simple select--no-search">
									<br /> <label for="inpVegetationType">Types de
										végétation :</label><br />
									<ul>
										<ui:repeat value="#{mbField.field.vegetationCompositions}"
											var="vegeType">
											<li>
												<p>#{vegeType.vegetationType.vegetation}</p>
												<p>#{vegeType.percentage} %</p>
											</li>
										</ui:repeat>
									</ul>

								</div>
							</div>

							<div>
								<br /> <label for="inpPhoto">Photos du terrain :</label><br />
							</div>

						</div>
						<button type="button" class="get-started-btn" data-toggle="modal"
							data-target="#suppmodal">Supprimer mon terrain</button>
						
					</b:form>
				</div>

			</div>
		</div>

	</div>


	<b:modal id="suppmodal" closable="true" close-on-escape="false"
		backdrop="false">

		<div class="modal-body">
			<div class="form-title text-center">
				<h3>Etes vous sûr de vouloir supprimer ce terrain ? Si oui,
					veuillez sélectionner une raison dans le menu déroulant ci-dessous
					:</h3>
					<div id="iconSearch">
							<b:iconAwesome name="rocket" size="lg" />
						</div>
				<br />
			</div>
			<div class="d-flex flex-column text-center">
				<b:form id="suppForm">
					<div class="rs-select2 js-select-simple select--no-search">
						<br /> <label for="inpFieldWithdrawalReason">Raison :</label><br />
						<b:selectOneMenu id="inpFieldWithdrawalReason"
							value="#{mbField.fieldWithdrawalReason}" required="true"
							converter="entityConverter"
							requiredMessage="Veuillez sélectionner une raison">
							<f:selectItem itemLabel="sélectionnez la raison" itemValue="" />
							<f:selectItems
								value="#{mbFieldWithdrawalReason.allFieldWithdrawalReason()}"
								var="reason" itemLabel="#{reason.withdrawalReason}"
								itemValue="#{reason}" />
							<p:ajax update="fieldWithdrawalReasonMessage" />
						</b:selectOneMenu>
						<br />
						<b:message id="fieldWithdrawalReasonMessage"
							for="inpFieldWithdrawalReason" />
					</div>
					<br />
					<div class="p-t-20">
						<b:commandButton class="btnSubscription"
							value="Confirmer la suppression"
							action="#{mbField.withdrawField()}" />
					</div>

				</b:form>
			</div>
		</div>
		<f:facet name="footer">
			<b:button id="closePop" value="Close" dismiss="modal" />
		</f:facet>
	</b:modal>
	<ui:include src="/WEB-INF/include/footer.xhtml"></ui:include>

</h:body>

</html>
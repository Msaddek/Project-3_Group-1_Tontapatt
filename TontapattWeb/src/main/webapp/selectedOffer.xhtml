<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="WEB-INF/template/userTemplate.xhtml">

	<ui:define name="head">
		<title>Recherche</title>
	</ui:define>

	<ui:define name="content">

		<div class="title-page">
			<div class="section-title">
				<h2>Mes terrains</h2>
				<p>Réservation</p>
			</div>
		</div>

		<main class="mt-5 pt-4">
		<div class="container wow fadeIn">

			<!-- Heading -->
			<div class="presta-zone">
				<h1 class="my-5 h1 text-center">#{mbService.offer.name}</h1>
				<h2 class="my-5 h2 text-center">
					<div class="profilPicture">
						<p:graphicImage class="img-profil"
							value="resources/img/users/#{mbUser.user.photo}"
							alt="No picture set"></p:graphicImage>
						#{mbService.offer.breeder.firstName}, Evaluation
					</div>

				</h2>
			</div>
			<!--Grid row-->
			<div class="row">

				<!--Grid column-->
				<div class="col-md-8 mb-4">

					<!--Card-->
					<div class="card">

						<!--Grid row-->
						<div class="row">

							<div class="icon-info-presta">
								<b:iconAwesome class="icon-info" name="envelope" size="2x" />
								<div class="icon-info-descr">
									<h4>Prise en charge</h4>
									<p>Une fois votre demande envoyée, vous serez averti par la
										suite de la réponse du propriétaire.</p>
								</div>
							</div>


						</div>

						<div class="row">

							<div class="icon-info-presta">
								<b:iconAwesome class="icon-info" name="exclamation-circle"
									size="2x" />
								<div class="icon-info-descr">
									<h4>Annulation</h4>
									<p>Une fois votre demande validée, l'annulation peut
										entraîner des frais. Renseignez-vous sur les conditions
										d'annulation.</p>
								</div>
							</div>
						</div>

						<div class="row">

							<div class="icon-info-presta">
								<b:iconAwesome class="icon-info" name="check" size="2x" />
								<div class="icon-info-descr">
									<h4>Enregistrement</h4>
									<p>Assurez-vous que les coordonnées entrées correspondent
										bien à votre demande.</p>
								</div>
							</div>
						</div>

						<hr />

						<div class="row">
							<div class="category-description">
								<h2>Information</h2>
							</div>
						</div>

						<div class="box-group-information">
							<div class="group-info">
								<div class="icon-info-presta">
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Race : #{mbService.offer.race.race}</h4>
									</div>
								</div>

								<div class="icon-info-presta">
									<br />
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Nombre d'animaux: #{mbService.requiredAnimalCount}</h4>
									</div>
								</div>
							</div>
							<div class="group-info">
								<div class="icon-info-presta">
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Espèce : #{mbService.offer.race.species.species}</h4>
									</div>
								</div>

								<div class="icon-info-presta">
									<br />
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Couverture : #{mbService.offer.maxTravelDist} Km</h4>
									</div>
								</div>
							</div>
						</div>
						<div class="icon-info-presta">
							<br />
							<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
							<div class="icon-info-descr">
								<h4>Le responsable du troupeau s'engage à passer au minimum
									un jour sur deux afin d'assurer le bon déroulement de la
									prestation.</h4>
							</div>
						</div>

						<hr />
						<div class="row">
							<div class="category-description">
								<h2>Description</h2>
							</div>
						</div>

						<div class="row">
							<div class="icon-info-presta">
								<p>#{mbService.offer.description}</p>
							</div>
						</div>
						<hr class="mb-4" />

						<div class="row">
							<div class="category-description">
								<h2>Photos</h2>
							</div>
						</div>

						<div class="images-result-box">
							<ui:repeat var="photo" value="#{mbService.offer.photos}">
								<div class="box-photo-result">
									<img src="resources/img/offers/#{photo.link}"
										alt="resultat-offre" class="img-fluid" />
								</div>

							</ui:repeat>
						</div>


						<hr />
						<div class="row">
							<div class="category-description">
								<h2>Dates</h2>
							</div>
						</div>

						<div class="row">
							<div class="box-calendar">
								<div class="calendar-offer">
									<label>Date de début</label>
									<p:calendar id="inline" value="#{mbService.startDate}"
										mode="inline" disabled="true" />
								</div>
								<div class="calendar-offer">
									<label>Date de fin</label>
									<p:calendar id="inline2" value="#{mbService.endDate}"
										mode="inline" disabled="true" />
								</div>
							</div>
						</div>

						<hr />

						<div class="row">
							<div class="category-description">
								<h2>Evaluations</h2>
							</div>
						</div>
					</div>
					<!--/.Card-->

				</div>
				<!--Grid column-->


				<div class="col-md-4 mb-4">

					<!-- Heading -->
					<div class="tarification">
						<h3 class="d-flex justify-content-between align-items-center mb-3">
							Tarification</h3>

						<!-- Cart -->

						<ul class="list-group mb-3 z-depth-1">
							<li
								class="list-group-item d-flex justify-content-between lh-condensed">
								<div>
									<h4 class="my-0">Tarif bêtes</h4>
									<small class="text-muted">Calculé selon le prix d'un
										animal par jour.</small>
								</div> <span class="text-muted">#{mbService.calculateTotalAnimalPrice()}€</span>
							</li>
							<li
								class="list-group-item d-flex justify-content-between lh-condensed">
								<div>
									<h4 class="my-0">Tarif distance</h4>
									<small class="text-muted">Calculé selon la distance.</small>
								</div> <span class="text-muted">#{mbService.calculateTravelDistancePrice()}€</span>
							</li>
							<li
								class="list-group-item d-flex justify-content-between lh-condensed">
								<div>
									<h4 class="my-0">Tarif interventions</h4>
									<small class="text-muted">Calculé selon le nombre
										d'interventions nécessaires.</small>
								</div> <span class="text-muted">#{mbService.calculateInterventionPrice()}€</span>
							</li>
							<li
								class="list-group-item d-flex justify-content-between lh-condensed">
								<div>
									<h4 class="my-0">TVA</h4>
									<small class="text-muted">20% du prix total.</small>
								</div> <span class="text-muted">#{mbService.calculateVATPrice()}€</span>
							</li>
							<li
								class="list-group-item d-flex justify-content-between bg-light">
								<div class="text-success">
									<h4 class="my-0">Durée</h4>
									<small>Durée de la prestation en jours.</small>
								</div> <span class="text-success">#{mbService.calculateServiceNumberOfDays()}
									jours</span>
							</li>
							<li class="list-group-item d-flex justify-content-between"><span>Total
									(EUR)</span> <strong>#{mbService.calculatePrice()}</strong></li>
						</ul>
					</div>
					<!-- Cart -->

					<button type="button" class="get-started-btn" data-toggle="modal"
						data-target="#reservationModal">Paiement</button>

				</div>
			</div>

		</div>
		<!--Grid row--> </main>

		<b:modal id="reservationModal" closable="false"
			close-on-escape="false" backdrop="false">

			<div class="modal-body">
				<div class="form-title text-center">
					<h1>Récapitulatif</h1>
					<br />
					<hr />
				</div>
				<div class="d-flex flex-column text-center">
					<b:form id="RecapForm">
						<div class="recap-box">
							<div class="form-group">
								<h3>
									<strong>Terrain concerné : #{mbService.field.name}</strong>
								</h3>
							</div>

							<div class="form-group">

								<h3>
									<strong> Offre sélectionnée : #{mbService.offer.name}
									</strong>
								</h3>
							</div>
							<div class="form-group">
								<h3>
									<strong> Date de prestation : Du
										#{mbService.startDate} au #{mbService.endDate} </strong>
								</h3>
							</div>
							<div class="form-group">
								<h3 style="color: red;">
									<strong> Prix : #{mbService.calculatePrice()} € </strong>
								</h3>
							</div>

						</div>
						<hr />

						<div class="form-title text-center">
							<h1>Paiement</h1>
							<br />
						</div>

						<div clas="payment-box">
							<div class="logo-payment">

								<img src="https://i.imgur.com/28akQFX.jpg" width="200px"
									height="60px" /> <img src="https://i.imgur.com/5QFsx7K.jpg"
									width="200px" height="60px" />

							</div>
							<div class="form-group">

								<div class="som-payment">
									<b:selectOneMenu id="inpPaymentMethod"
										value="#{mbService.paymentMethod}" required="true"
										converter="entityConverter"
										requiredMessage="Séléctionnez un moyen de paiement">
										<f:selectItem itemLabel="Séléctionnez une moyen de paiment"
											itemValue="" />
										<f:selectItems value="#{mbPaymentMethod.allPaymentMethods()}"
											var="method" itemLabel="#{method.payment}"
											itemValue="#{method}" />
									</b:selectOneMenu>
								</div>
								<b:message id="paymentMethodMessage" for="inpPaymentMethod" />
							</div>

							<div class="form-group">
								<input type="text" class="form-control"
									placeholder="Nom sur la carte" aria-label="Username"
									aria-describedby="basic-addon1" />
							</div>
							<div class="form-group">
								<input type="text" class="form-control"
									placeholder="&#xf09d; Numéro de carte"
									style="font-family: Arial, FontAwesome" aria-label="Username"
									aria-describedby="basic-addon1" />
							</div>

							<div class="form-group">
								<div class="cvc-date">
									<div id="expiration-carte">
										<input type="text" class="form-control"
											placeholder="&#xf073; Expiration"
											style="font-family: Arial, FontAwesome" aria-label="Username"
											aria-describedby="basic-addon1" />
									</div>
									<div id="cvc">
										<input type="text" class="form-control"
											placeholder="&#xf023; CVC"
											style="font-family: Arial, FontAwesome" aria-label="Username"
											aria-describedby="basic-addon1" />
									</div>
								</div>
							</div>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="checkbox" value=""
								id="defaultCheck1" /> <label class="form-check-label"
								for="defaultCheck1"> J'ai lu et j'accepte les conditions
								qui m'engagent à respecter les termes du contrat. </label>
						</div>

						<br />
						<b:commandButton class="btnLogin" value="Confirmer"
							action="#{mbService.createServiceRequest()}" />

					</b:form>
				</div>
			</div>

			<f:facet name="footer">
				<b:button id="close" value="Close" dismiss="modal" />
			</f:facet>
		</b:modal>


	</ui:define>

</ui:composition>

</html>
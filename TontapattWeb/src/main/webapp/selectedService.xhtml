<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="WEB-INF/template/userTemplate.xhtml">

	<ui:define name="head">
		<title>Recherche</title>
	</ui:define>

	<ui:define name="content">

		<div class="title-page">
			<div class="section-title">
				<h2>Prestation</h2>
				<p>Ma prestation</p>
			</div>
		</div>

		<main class="mt-5 pt-4">

		<div class="container wow fadeIn">

			<!-- Heading -->
			<div class="presta-zone">
				<h1 class="my-5 h1 text-center">#{mbService.service.invoiceNumber}</h1>
			</div>
			<!--Grid row-->
			<div class="row">

				<!--Grid column-->
				<div class="col-md-8 mb-4">

					<!--Card-->
					<div class="card">

						<div class="row">
							<div class="category-description">
								<h2>Infos principal</h2>
							</div>
						</div>



						<div class="icon-info-presta">
							<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
							<div class="icon-info-descr">
								<h4>Vous êtes : #{mbService.service.field.owner eq
									mbUser.user ? "Proprietaire de terrain" : "Prestataire"}</h4>
							</div>
						</div>

						<div class="icon-info-presta">
							<br />
							<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
							<div class="icon-info-descr">
								<h4>Status : #{mbService.serviceState()}</h4>
							</div>
						</div>

						<div class="icon-info-presta">
							<br />
							<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
							<div class="icon-info-descr">
								<h4>Terrain concérnée: #{mbService.service.field.name}</h4>
							</div>
						</div>


						<div class="icon-info-presta">
							<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
							<div class="icon-info-descr">
								<h4>Offre concernée :
									#{mbService.service.shearingOffer.name}</h4>
							</div>
						</div>

						<div class="icon-info-presta">
							<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
							<div class="icon-info-descr">
								<h4>Durée :
									#{mbService.calculateServiceNumberOfDaysByService()} jours</h4>
							</div>
						</div>

						<div class="row">
							<div class="box-calendar">
								<div class="calendar-offer">
									<label>Date de début</label>
									<p:calendar id="inline" value="#{mbService.service.startDate}"
										mode="inline" disabled="true" />
								</div>
								<div class="calendar-offer">
									<label>Date de fin</label>
									<p:calendar id="inline2" value="#{mbService.service.endDate}"
										mode="inline" disabled="true" />
								</div>
							</div>
						</div>


						<hr />
						<div class="row">
							<div class="category-description">
								<h2>Concernant l'offre</h2>
							</div>
						</div>

						<div class="box-group-information">
							<div class="group-info">
								<div class="icon-info-presta">
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Responsable :
											#{mbService.service.shearingOffer.breeder eq mbUser.user ?
											"Vous" : mbService.service.shearingOffer.breeder.firstName }
										</h4>
									</div>
								</div>

								<div class="icon-info-presta">
									<br />
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Nombre d'animaux:
											#{mbService.service.requiredAnimalCount}</h4>
									</div>
								</div>
							</div>
							<div class="group-info">
								<div class="icon-info-presta">
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Espèce :
											#{mbService.service.shearingOffer.race.species.species}</h4>
									</div>
								</div>

								<div class="icon-info-presta">
									<br />
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Race : #{mbService.service.shearingOffer.race.race}</h4>
									</div>
								</div>
							</div>
						</div>
						<hr class="mb-4" />

						<div class="row">
							<div class="category-description">
								<h2>Concernant le terrain</h2>
							</div>
						</div>

						<div class="box-group-information">
							<div class="group-info">
								<div class="icon-info-presta">
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Proprietaire : #{mbService.service.field.owner eq
											mbUser.user ? "Vous" :
											mbService.service.field.owner.firstName }</h4>
									</div>
								</div>

								<div class="icon-info-presta">
									<br />
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Superficie: #{mbService.service.field.area} Km²</h4>
									</div>
								</div>
							</div>
							<div class="group-info">
								<div class="icon-info-presta">
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Ville : #{mbService.service.field.zipCodeCity.name}</h4>
									</div>
								</div>

								<div class="icon-info-presta">
									<br />
									<b:iconAwesome class="icon-info" name="info-circle" size="lg" />
									<div class="icon-info-descr">
										<h4>Adresse : #{mbService.service.field.address}</h4>
									</div>
								</div>
							</div>
						</div>


						<hr />
						<div class="row">
							<div class="category-description">
								<h2>Déroulement</h2>
							</div>
						</div>

						<div class="icon-info-presta">
							<br />
							<b:iconAwesome name="chevron-circle-right" size="lg" />
							<div class="icon-info-descr">
								<h4>Installation du matériel :
									#{mbService.service.equipmentSetupDate eq null ? "À venir" :
									mbService.service.equipmentSetupDate}</h4>
							</div>
						</div>

						<div class="icon-info-presta">
							<br />
							<b:iconAwesome name="chevron-circle-right" size="lg" />
							<div class="icon-info-descr">
								<h4>Installation du matériel :
									#{mbService.service.herdSetupDate eq null ? "À venir" :
									mbService.service.herdSetupDate}</h4>
							</div>
						</div>

						<hr />
						<div class="row">
							<div class="category-description">
								<h2>Anomalies</h2>
							</div>
						</div>


						<button type="button" class="get-started-btn" data-toggle="modal"
							data-target="#anomalieModal" id="btnAnomalie">Nouvelle
							anomalie</button>

						<div class="row">

							<div class="table-box">
								<div class="table-offer">
									<table class="table table-dark table-striped">
										<thead>
											<tr>
												<th scope="col">Numéro</th>
												<th scope="col">Déclarant</th>
												<th scope="col">Date d'émission</th>
												<th scope="col">Type</th>
												<th scope="col">Status</th>
											</tr>
										</thead>
										<tbody>


											<tr>
												<th scope="row">ANM215405</th>
												<td>21/10/2021</td>
												<td>Vous</td>
												<td>Animal évadé</td>
												<td>Réglée</td>

											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
					<!--/.Card-->

				</div>
				<!--Grid column-->



			</div>
		</div>

		<b:modal id="anomalieModal" closable="false" close-on-escape="false"
			backdrop="false">

			<div class="modal-body">
				<div class="form-title text-center">
					<h3>Déclarer une anomalie</h3>
					<br />
				</div>
				<div class="d-flex flex-column text-center">
					<b:form id="loginForm">
						<div class="form-group">
							<b:selectOneMenu id="inpUserField" value="#{mbService.field}"
								required="true" converter="entityConverter"
								requiredMessage="Séléctionnez un type">
								<f:selectItem itemLabel="Séléctionnez un type" itemValue="" />
								<f:selectItems value="#{mbField.connectedUserFields}"
									var="field" itemLabel="#{field.name}" itemValue="#{field}" />

							</b:selectOneMenu>
						</div>
						<div class="form-group">
							<b:inputTextarea placeholder="Décrivez le plus précisement possible votre anomalie"
								value="" 
								>
								
							</b:inputTextarea>
						</div>

					</b:form>
				</div>
			</div>
			<div class="modal-footer d-flex justify-content-center">
				<div class="signup-section">

					<h4></h4>
				</div>
			</div>

			<f:facet name="footer">
				<b:button id="close" value="Fermer" dismiss="modal" />
			</f:facet>
		</b:modal> </main>

	</ui:define>

</ui:composition>

</html>
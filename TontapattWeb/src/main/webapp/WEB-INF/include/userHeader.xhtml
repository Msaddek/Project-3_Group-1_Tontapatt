<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui">


<header id="headerU" class="fixed-top">

<div class="container d-flex align-items-center">

	<h1 class="logo me-auto">
		<a class="titleT" href="home.xhtml">Tontapatt</a>
	</h1>

	<nav id="navbar" class="navbar order-last order-lg-0">
	<ul>

		<li><a class="active" href="connectedPage.xhtml">Hey,
				#{mbUser.user.firstName} !</a></li>
		<li><a href="home.xhtml">Prestation</a></li>
		<li><a href="home.xhtml">Nouveauté</a></li>

	</ul>
	<div style="display: none">
		<b:dropButton value="">
		</b:dropButton>
	</div>
	<div class="dropdown">
		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
			role="button" data-toggle="dropdown" aria-haspopup="true"
			aria-expanded="false">

			<div class="profilPicture">
				<p:graphicImage class="img-profil"
					value="resources/img/users/#{mbUser.user.photo}"
					alt="No picture set"></p:graphicImage>
			</div>

		</a>
		<div class="dropdown-menu" aria-labelledby="navbarDropdown">
			<div>
				<a class="dropdown-item" href="offerParameters.xhtml"> Mes
					offres</a>
			</div>
			<div>
				<a class="dropdown-item" href="fieldParameters.xhtml"> Mes
					terrains</a>
			</div>
			<div>
				<a class="dropdown-item" href="userParameters.xhtml"> Mes
					Paramètres</a>
			</div>
			<div class="dropdown-divider"></div>
			<h:form>
				<div class="disconnect-btn">
					<p:commandButton styleClass="ui-button-danger ui-button-flat"
						value="Deconnexion" action="#{mbUser.disconnect()}" />
				</div>
			</h:form>

		</div>

	</div>

	</nav>

</div>

</header>

<section id="heroU"
	class="d-flex justify-content-center align-items-center">
<div class="container position-relative" data-aos="zoom-in"
	data-aos-delay="100">

	<font face="Arial" size="20px" color="white">Tableau de bord</font>
	<div class="bord-elements">
		<div class="bord-element">
			<a href="courses.html" class="btn-get-started" data-toggle="modal"
				data-target="#amodal">
				<div class="searchBar">
					<div>Ajouter un terrain</div>
					<div id="iconSearch">
						<b:iconAwesome name="tree" size="lg" />
					</div>
				</div>
			</a>
		</div>
		<div class="bord-element">
			<a href="courses.html" class="btn-get-started" data-toggle="modal"
				data-target="#amodal">
				<div class="searchBar">
					<div>Rechercher une offre</div>
					<div id="iconSearch">
						<b:iconAwesome name="search" size="lg" />
					</div>
				</div>
			</a>
		</div>
		<div class="bord-element">
			<a href="#" class="btn-get-started" data-toggle="modal"
				data-target="#amodal">
				<div class="searchBar">
					<div>Ajouter une offre</div>
					<div id="iconSearch">
						<b:iconAwesome name="dove" size="lg" />
					</div>
				</div>
			</a>
		</div>
	</div>
	<b:modal id="amodal">
		<div class="search-background">
			<div class="modal-body">
				<div class="form-title text-center">
					<h3>Dis nous ce qu'il te faut !</h3>
					<br />
				</div>
				<div class="d-flex flex-column text-center">
					<h:form id="SearchForm">

						<label for="inpUserField">Choisis ton terrain :</label>
						<br />
						<h:selectOneMenu id="inpUserField" value="#{mbService.field}"
							required="true" converter="entityConverter"
							requiredMessage="Séléctionnez un terrain">
							<f:selectItem itemLabel="Séléctionnez un terrain" itemValue="" />
							<f:selectItems value="#{mbField.connectedUserFields}" var="field"
								itemLabel="#{field.name}" itemValue="#{field}" />

						</h:selectOneMenu>
						<br />
						<b:message id="inpUserFieldMessage" for="inpUserField" />
						<br />


						<label for="inpServiceType">Type de service :</label>
						<br />
						<h:selectOneMenu id="inpServiceType" value="#{mbUser.category}"
							required="false" converter="entityConverter"
							requiredMessage="Séléctionnez un service">
							<f:selectItem itemLabel="Séléctionnez un service" itemValue="" />
							<f:selectItems value="#{mbUserCategory.allCategories()}"
								var="category" itemLabel="#{category.category}"
								itemValue="#{category}" />
						</h:selectOneMenu>
						<br />
						<b:message id="userServiceTypeMessage" for="inpServiceType" />
						<br />

						<div class="search-dates">
							<div class="search-date">
								<label style="margin-right: 10px" for="inpStartDate">Date
									de debut :</label><br />
								<p:calendar id="inpStartDate" value="#{mbService.startDate}"
									showIcon="true" required="false"
									requiredMessage="La date de naissance est requise"
									monthNavigator="true" yearNavigator="true" navigator="true"
									pattern="dd/MM/yyy" mindate="#{mbDate.minimumServiceStartDate}">
									<p:ajax event="dateSelect" update="inpStartDate" />
									<p:ajax event="dateSelect" update="startDateMessage" />
								</p:calendar>
								<p:message id="startDateMessage" for="inpStartDate" />
							</div>
							<div class="search-date">
								<label style="margin-right: 10px" for="inpEndDate">Date
									de fin :</label><br />
								<p:calendar id="inpEndDate" value="#{mbService.endDate}"
									showIcon="true" required="true"
									requiredMessage="La date de naissance est requise"
									monthNavigator="true" yearNavigator="true" navigator="true"
									pattern="dd/MM/yyy" mindate="#{mbDate.minimumServiceEndDate}">
									<p:ajax event="dateSelect" update="inpStartDate" />
									<p:ajax event="dateSelect" update="endDateMessage" />
								</p:calendar>
								<p:message id="endDateMessage" for="inpEndDate" />
							</div>
						</div>
						<br />
						<div class="search-animals">
							<div class="search-animal">
								<label for="inpSpecies">Espèce :</label><br />
								<h:selectOneMenu id="inpSpecies" value="#{mbSpecies.species}"
									required="true" converter="entityConverter"
									requiredMessage="Séléctionnez un service">
									<f:selectItem itemLabel="Séléctionnez une espèce" itemValue="" />
									<f:selectItems value="#{mbSpecies.allSpecies()}" var="species"
										itemLabel="#{species.species}" itemValue="#{species}" />
								</h:selectOneMenu>
							</div>

						</div>


						<br />
						<b:commandButton class="btnLogin" value="Rechercher"
							action="#{mbShearingOffer.showOffersByFieldLocation(mbService.field,mbSpecies.species,mbService.startDate,mbService.endDate)}" />

					</h:form>
				</div>
			</div>

			<f:facet name="footer">
				<b:button id="closePop" value="Close" dismiss="modal" />
			</f:facet>
		</div>
	</b:modal>

</div>

</section>


</html>